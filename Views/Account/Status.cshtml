@model IEnumerable<UptimeMonitoring.Models.SiteModel>
@{
    ViewBag.Title = "Status";
}
<div class="row-fluid">
    <div class="span12">
        <h2>@ViewBag.Title</h2>
    </div>
</div>

<div class="row-fluid">
    <div class="span12">
        <table class="table">
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.site_name)
                    </th>
                    <th class="no-phone">
                        @Html.DisplayNameFor(model => model.site_url)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.site_last_check)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.site_online)
                    </th>
                    <th class="no-phone">
                        @Html.DisplayNameFor(model => model.result)
                    </th>
                    <th class="no-phone">
                        @Html.DisplayNameFor(model => model.frequency)
                    </th>
                    <th></th>
                </tr>

                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(model => item.site_name)
                        </td>
                        <td class="no-phone">
                            @Html.DisplayFor(model => item.site_url)
                        </td>
                        <td>
                            @Html.DisplayFor(model => item.site_last_check)
                        </td>
                        <td>
                            @Html.DisplayFor(model => item.site_online)
                        </td>
                        <td class="no-phone">
                            @Html.DisplayFor(model => item.result)
                        </td>
                        <td class="no-phone">
                            @Html.DisplayFor(model => item.frequency) Minutes
                        </td>
                        <td style="width:100px;">
                            <a href="#" class="delete">Delete</a>
                            <span style="display:none;" class="delete-confirm">@Html.ActionLink("Are you sure?", "Delete", new { id = item.Id })</span>
                        </td>
                    </tr>
                }

            </table>
        <p>
            @Html.ActionLink("Create New Monitor", "Create", null, new { @class = "btn btn-primary" })
            @Html.ActionLink("Update Now", "CheckSites", null, new { @class = "btn btn-information" })
        </p>
    </div>
</div>

<script type="text/javascript">
    $(".delete").click(function (event) {
        var link = $(this);
        var confirm = $(this).next();
        $(link).hide();
        $(confirm).fadeIn();
        setTimeout(function () {
            $(confirm).hide();
            $(link).fadeIn();
        }, 4000);
    });

</script>